# **프록시(Proxy)란?**

<br>

### 프록시(Proxy)란 '대리', '대신'이라는 뜻을 가지며, 프로토콜에 있어서는 **대리 응답** 등에서 사용하는 개념이다.

<br>

![](https://velog.velcdn.com/images/younghyun/post/6f259bc2-6851-406e-a086-7b8eb90ba0b1/image.png)

<br>

### 클라이언트와 서버 사이에 존재하며, 중계기로서 대리로 통신을 수행하는 것을 `Proxy`라고 하며, 그 중계 기능을 하는 주체를 `Proxy Server`라고 한다.

<br><br>

---

<br>

## **프록시 서버의 종류**

<br>

### **포워드 프록시(Forward Proxy)**
보통 말하는 프록시가 바로 이 포워드 프록시를 말한다.
Client와 Server 사이에 위치하여 요청을 중계하며, 요청과 응답은 Proxy Server를 거친다. 
클라이언트를 감추는 효과가 있다.

<br>

![](https://velog.velcdn.com/images/younghyun/post/8a3571b5-9c48-4523-95fe-3bd1815e1392/image.png)


<br><br>

### **리버스 프록시(Reverse Proxy)**
포워드 프록시와 마찬가지로 요청과 응답이 Proxy Server로 이동하는데, 포워드 프록시와 다르게 Server들이 주로 내부망으로 구성되며 프록시에게만 연결을 허용한다. 즉, 서비스를 위한 보안 채널을 구축한다.  
이런 경우 Client가 Server에 직접 접근이 불가능하므로, Reverse Proxy에서 요청을 적극적으로 중계하는 Load Balancing의 역할을 수행하기도 한다.  
서버를 감추는 효과가 있다.

<br>

![](https://velog.velcdn.com/images/younghyun/post/502ef92e-211f-4c9f-b3f6-9b58abe3392b/image.png)

<br><br><br>

---

<br>

## **프록시 서버를 사용하는 이유**

<br>

### **개인정보를 보호할 수 있다**
프록시 서버 없이 클라이언트가 서버에 요청 시 본인의 IP 주소가 노출되는데, **프록시 서버를 사용 시 서버측에서 나의 IP가 아닌 프록시 서버의 IP**를 보게 된다.  
**즉, IP를 숨길 수 있다.**

<br>

### **캐시를 사용해서 속도가 향상된다**
프록시 서버는 웹페이지를 가져올 때 자신의 DB에 최근 데이터를 저장하는데, 이것을 `Cache`라 한다.  
이렇게 될 시, **같은 요청이 들어오면 `Cache`자원을 반환**하여 **서비스의 속도를 높이고 대역폭도 줄일 수 있다.**

<br>

### **로그를 기록, 관리할 수 있다**
서버 측에선 클라이언트의 기록대신 프록시 서버의 기록이 있지만, **프록시 서버에겐 클라이언트의 기록이 남아있다.**
이 기록들을 보면 **어떤 IP에서 어떤 IP로 얼마나 접속**해 있는지 확인할 수 있고, **특정 IP가 방문할 수 있는 웹사이트도 제한**할 수 있어서 회사에서 많이 사용한다.

<br>

### **접속을 우회할 수 있다**
특정 사이트에서 IP를 검사해 한국에서의 접속을 차단하는 경우가 있는데, 이런 경우 프록시 서버를 사용해 접속 시 다른나라에서 접속한 것처럼 우회할 수 있다.

<br>

> ### **Proxy Chaining**
> 클라이언트의 IP를 숨기기 위해 여러 프록시 서버를 경유하는 기술을 `Proxy Chaining` 이라고 한다.
> 예를 들어 `Client->Proxy Server1->Proxy Server2... -> Server` 처럼 사용하는 것인데, 이렇게 되더라도 프록시 서버를 계속하여 추적하면 클라이언트를 알아낼 수도 있지만 여러 국가에 접속하여 우회하면 알아내기 힘들다.

<br>