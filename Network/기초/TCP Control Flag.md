# **TCP Control Flag**

<br>
`TCP Control Flag`란

### [TCP](./../프로토콜/TCP.md) 통신에서는 [3-Way Handshake과 4-Way Handshake ](3-Way%20Handshake%20%26%204-Way%20Handshake.md) 과정을 통해 두 지점 간 세션을 연결하고 종료한다.

### 그 외에도 데이터를 전송하거나 거부, 세션 종료 등의 기능이 패킷의 `FLAG` 값에 따라 달라지게 된다.

<br><br>

---
<br>

## **TCP Control Flag의 종류**

<br>

+ ### **SYN (Synchronization), 연결 요청 플래그**
  #### TCP에서 세션을 성립할 때 가장 먼저 보내는 패킷이다.

<br>

+ ### **ACK (Acknowledgement), 응답**
  #### **상대방으로부터 패킷을 받았다는 걸 알려주는 패킷.** 다른 플래그와 같이 출력되는 경우도 있다.
  #### 받는 사람이 보낸 사람의 시퀀스 번호에, TCP 계층에서 길이 또는 데이터 양을 더한 것과 같은 ACK를 보낸다. (일반적으로 + 1)
  #### ACK 응답을 통해 보낸 패킷에 대한 **성공, 실패를 판단**하여 재전송 하거나 혹은 다음 패킷을 전송한다.

<br>

+ ### **RST (Reset), 연결 종료**
  #### 재설정(Reset)을 하는 과정으로 양방향에서 동시에 일어나는 중단 작업이다.
  #### 비 정상적인 세션 연결 끊기에 해당하며, 이 패킷을 보내는 곳에서 현재 접속하고 있는 곳과 즉시 연결을 끊고자 할 때 사용한다.

<br>

+ ### **PSH (Push), 밀어넣기**
  #### 전송 계층에서는 네트워크의 효율을 위해 충분한 양의 데이터가 모인 다음에 데이터를 전달한다.
  #### 이런 경우, 채팅 등등 빠른 응답이 필요한 경우엔 적합하지 않을 수 있는데, PSH 플래그를 설정 시 `Segment`는 버퍼링되지 않고 `Application Layer`로 바로 전달한다.

<br>

+ ### **URG (Urgent), 긴급 데이터**
  #### 전송하는 데이터 중에서, 긴급히 전달해야 할 내용이 있을 경우 사용한다.
  #### 긴급한 데이터는 전송 큐의 제일 앞으로 보내지게 된다.

<br>

+ ### **FIN (Finish), 연결 요청 종료**
  #### 세션 연결을 종료시킬 때 사용하며, 더 이상 전송시킬 데이터가 없음을 나타낸다.


<br><br>

- - -



<br>

## **TCP Control Flag 구조, 순서**

<br>


![](https://velog.velcdn.com/images/younghyun/post/e6398e24-71e9-41fc-b32f-31b77aa757a8/image.png)