# **Command Injection**

<br>

<br>

### **Command Injection**이란 이용자의 입력을 시스템 명령어로 실행하게 하는 취약점이다.

### Command Injection은 명령어를 실행하는 함수에 이용자가 임의의 인자를 전달할 수 있을 때 발생하며, php의 system, python의 os.system, node.js의 child_process 등을 사용하면 이용자의 입력을 소프트웨어의 인자로 전달할 수 있다.

### Python에서 개발된 Application에서 입력한 임의의 ip에 ping을 전달하고 싶으면 os.system("ping [user_input_ip]") 이런 식으로 사용하면 되는데, 이런 함수를 사용할 때 이용자의 입력을 제대로 검사하지 않으면 치명적인 명령어 등이 실행될 수 있다.

### 이게 가능한 이유는, 리눅스 셸 프로그램이 다양한 메타 문자를 지원하기 때문이다.

<br>

- - -

<br>

## 메타 문자

<br>

* ### 명령어 치환
  `` 안에 들어있는 명령어를 실행한 결과로 치환한다.  
  <br>
* ### 명령어 치환
  $() 안에 있는 명령어를 실행한 결과로 치환한다. 이 문자는 위와 다르게 중복 사용이 가능하다.  
<br>

* ### 명령어 연속 실행
  &&를 사용해 명령어를 여러 개 사용할 수 있다. 앞 명령어에서 에러가 발생하지 않아야 뒷 명령어를 실행한다.  
  <br>

* ### 명령어 연속 실행
  ||를 사용하여 한 줄에 여러 명령어를 사용할 수 있다. 앞 명령어에서 에러가 발생해야 뒷 명령어를 사용한다.  
<br>

* ### 명령어 구분자
  ;를 사용하여 한 줄에 여러 명령어를 사용할 수 있다.
  ;로 명렁어를 끝내고, 뒷 명령어를 사용한다.  
  <br>

* ### |를 사용하여 앞 명령어의 결과를 뒷 명령어의 입력으로 들어가게 할 수 있다.  
  <br>

